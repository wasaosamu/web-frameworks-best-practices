# 第18章：dataclass

**この章の目標**  
**dataclass** を使って、データを保持するクラスを簡単に書く方法を学びます。  
Python 3.7 以降で使える機能です。

---

## dataclass とは？

**dataclass** は、**データを保持するクラス**を短く書くための仕組みです。

- `__init__` や `__repr__` などを自動で生成してくれる  
- 型ヒントを書くだけで、フィールドが定義される  
- 設定ファイルのデータや、API のレスポンスを表現するのに向いている  

---

## 基本的な書き方

```python
from dataclasses import dataclass   # dataclass デコレータをインポート

@dataclass                         # デコレータでデータクラスとして定義
class User:
    name: str                      # 型ヒントでフィールドを定義
    age: int

# 自動で __init__ が作られる
user = User("山田", 25)            # 引数でインスタンスを作成
print(user.name)                   # 属性にアクセス → 山田
print(user)                        # __repr__ も自動生成 → User(name='山田', age=25)
```

- **@dataclass** を付けるだけで、コンストラクタや文字列化が自動で用意される  

---

## デフォルト値

```python
@dataclass
class User:
    name: str
    age: int = 0  # デフォルト値（省略時は 0）

user = User("山田")  # age を省略 → age は 0 になる
```

- デフォルト値があるフィールドは、**後ろに書く**必要がある  

---

## 通常のクラスとの違い

| 項目 | 通常のクラス | dataclass |
|------|--------------|-----------|
| __init__ | 自分で書く | 自動生成 |
| __repr__ | 自分で書く | 自動生成 |
| 用途 | ロジックを持つクラス | データの保持が主 |

---

## まとめ

- **dataclass** で、データ保持用のクラスを簡潔に書ける。
- `@dataclass` と型ヒントを書くだけで、コンストラクタなどが自動で作られる。
- 設定や API レスポンスの型を表すのに便利。
