# 第4章：ベストプラクティスまとめ

**この章の目標**  
Python で、読みやすく保守しやすいコードを書くための**考え方**をまとめます。  
命名規則、コメント、エラー処理などを、初心者向けに整理します。

---

## 変数・関数の名前の付け方

**分かりやすい名前**を付けると、コードの意図が伝わりやすくなります。

- **変数名**は、小文字とアンダースコア（`user_name`、`item_count`）  
- **関数名**も同様（`get_user`、`calculate_total`）  
- **定数**（変わらない値）は大文字（`MAX_COUNT`、`API_URL`）  

```python
# よい例
user_name = "山田"
item_count = 10

def get_user_by_id(user_id):
    pass

# 避けたい例（何を表しているか分かりにくい）
a = "山田"
x = 10
```

---

## コメントを適度に書く

**なぜそう書いたか**が分かるコメントがあると、あとで読み返したときに助かります。

- 複雑な処理にはコメントを付ける  
- 一目で分かる処理には、コメントを付けすぎない  
- **何をしているか**より、**なぜそうしているか**を書くと役に立つ  

```python
# ユーザーが20歳以上かどうかをチェック（法律に基づく）
if age >= 20:
    allow_purchase = True
```

---

## 1つの関数は1つの役割に

**1つの関数**は、**1つのこと**だけをするようにすると、読みやすくなります。

- 長くなりそうな処理は、小さな関数に分ける  
- 関数名を見れば「何をするか」が分かるようにする  

```python
# よい例：役割が分かれている
def validate_email(email):
    return "@" in email

def save_user(name, email):
    # 保存処理
    pass

# 避けたい例：1つの関数に全部詰め込み
def do_everything(name, email):
    # 検証も保存も全部ここに...
    pass
```

---

## エラーを適切に扱う

**try / except** で、エラーが起きたときの処理を書けます。

```python
try:
    number = int(user_input)  # 文字列を数値に変換
except ValueError:
    print("数値を入力してください")
```

- エラーを**握りつぶさず**、ユーザーに伝えるかログに残す  
- 想定できるエラーは、**try / except** で対処する  

---

## インデントと空行

- **インデント**は 4 スペースに統一する（Python の推奨）  
- 関連する処理のまとまりの間に**空行**を入れると読みやすくなる  

```python
def process_user(user):
    name = user["name"]
    age = user["age"]

    if age >= 20:
        return "成人"
    else:
        return "未成年"
```

---

## まとめ

- **変数・関数の名前**は分かりやすく。小文字とアンダースコアを使う。
- **コメント**は「なぜそうしたか」が分かるように書く。
- **1つの関数は1つの役割**にし、長くなりすぎないようにする。
- **エラー**は try / except で適切に扱い、握りつぶさない。
- **インデント**は 4 スペースに統一する。

これで、Python のベストプラクティスを一通りまとめました。  
フレームワーク（Flask、Django）を使う場合は、`frameworks/` フォルダのドキュメントを参照してください。
